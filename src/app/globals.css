@import "tailwindcss";

/* ===========================================================================
   TAILWIND V4 THEME CONFIGURATION
   Define colors using @theme for Tailwind v4 compatibility
   =========================================================================== */

@theme {
  /* Primary Colors (Teal/Blue-Green) */
  --color-primary-50: #ecfdf7;
  --color-primary-100: #d1faee;
  --color-primary-200: #a7f3d8;
  --color-primary-300: #6eedc1;
  --color-primary-400: #34d9a4;
  --color-primary-500: #0d9488;
  --color-primary-600: #0a7e8c;
  --color-primary-700: #06636f;
  --color-primary-800: #054f5a;
  --color-primary-900: #043f48;
  --color-primary-950: #022b31;

  /* Accent Colors (Warm Coral) */
  --color-accent-50: #fff1f1;
  --color-accent-100: #ffdede;
  --color-accent-200: #ffc2c2;
  --color-accent-300: #ff9898;
  --color-accent-400: #ff6b6b;
  --color-accent-500: #ff4545;
  --color-accent-600: #ed2020;
  --color-accent-700: #c81515;
  --color-accent-800: #a51414;
  --color-accent-900: #881818;
  --color-accent-950: #4b0707;

  /* AI/Purple Colors (for AI-related actions) */
  --color-ai-50: #faf5ff;
  --color-ai-100: #f3e8ff;
  --color-ai-200: #e9d5ff;
  --color-ai-300: #d8b4fe;
  --color-ai-400: #c084fc;
  --color-ai-500: #a855f7;
  --color-ai-600: #9333ea;
  --color-ai-700: #7e22ce;
  --color-ai-800: #6b21a8;
  --color-ai-900: #581c87;
  --color-ai-950: #3b0764;

  /* Success Colors (Green) */
  --color-success-50: #f0fdf4;
  --color-success-100: #dcfce7;
  --color-success-200: #bbf7d0;
  --color-success-300: #86efac;
  --color-success-400: #4ade80;
  --color-success-500: #22c55e;
  --color-success-600: #16a34a;
  --color-success-700: #15803d;
  --color-success-800: #166534;
  --color-success-900: #14532d;
  --color-success-950: #052e16;

  /* Error Colors (Red) */
  --color-error-50: #fef2f2;
  --color-error-100: #fee2e2;
  --color-error-200: #fecaca;
  --color-error-300: #fca5a5;
  --color-error-400: #f87171;
  --color-error-500: #ef4444;
  --color-error-600: #dc2626;
  --color-error-700: #b91c1c;
  --color-error-800: #991b1b;
  --color-error-900: #7f1d1d;
  --color-error-950: #450a0a;

  /* Warning Colors (Amber) */
  --color-warning-50: #fffbeb;
  --color-warning-100: #fef3c7;
  --color-warning-200: #fde68a;
  --color-warning-300: #fcd34d;
  --color-warning-400: #fbbf24;
  --color-warning-500: #f59e0b;
  --color-warning-600: #d97706;
  --color-warning-700: #b45309;
  --color-warning-800: #92400e;
  --color-warning-900: #78350f;
  --color-warning-950: #451a03;

  /* Semantic Color Aliases (for backward compatibility) */
  --color-success: #22c55e;
  --color-error: #ef4444;
  --color-info: #3b82f6;
}

/* ===========================================================================
   CSS VARIABLES - Additional Design Tokens
   =========================================================================== */

@layer base {
  :root {
    /* Backgrounds */
    --bg-primary: 255 255 255;
    --bg-secondary: 250 250 249;
    --bg-tertiary: 245 245 244;
    --bg-elevated: 255 255 255;

    /* Text */
    --text-primary: 28 25 23;
    --text-secondary: 87 83 78;
    --text-tertiary: 168 162 158;
    --text-disabled: 214 211 209;

    /* Borders */
    --border-default: 231 229 228;
    --border-strong: 214 211 209;
    --border-subtle: 245 245 244;

    /* Shadows */
    --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);

    /* Border Radius */
    --radius-sm: 0.25rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-2xl: 1.5rem;
    --radius-full: 9999px;

    /* Spacing (8-point grid) */
    --spacing-1: 0.25rem;  /* 4px */
    --spacing-2: 0.5rem;   /* 8px */
    --spacing-3: 0.75rem;  /* 12px */
    --spacing-4: 1rem;     /* 16px */
    --spacing-6: 1.5rem;   /* 24px */
    --spacing-8: 2rem;     /* 32px */
    --spacing-12: 3rem;    /* 48px */
    --spacing-16: 4rem;    /* 64px */

    /* Transitions */
    --transition-fast: 150ms;
    --transition-base: 200ms;
    --transition-moderate: 300ms;
    --transition-slow: 400ms;

    /* Z-Index */
    --z-dropdown: 1000;
    --z-sticky: 1020;
    --z-fixed: 1030;
    --z-modal-backdrop: 1040;
    --z-modal: 1050;
    --z-popover: 1060;
    --z-tooltip: 1070;
    --z-toast: 1080;
  }

  /* Dark mode variables (for future implementation) */
  @media (prefers-color-scheme: dark) {
    .dark {
      /* Dark mode color values would go here */
    }
  }

  /* Modern CSS Reset */
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  * {
    margin: 0;
    padding: 0;
  }

  html {
    /* Prevent font size adjustment after orientation changes */
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;

    /* Smooth scrolling */
    scroll-behavior: smooth;
  }

  /* Respect user's reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }

    html {
      scroll-behavior: auto;
    }
  }

  body {
    min-height: 100vh;
    line-height: 1.5;
    color: rgb(var(--text-primary));
    background-color: rgb(var(--bg-primary));
    font-family: var(--font-geist-sans), system-ui, sans-serif;
  }

  /* Typography improvements */
  h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.2;
    color: rgb(var(--text-primary));
  }

  p {
    line-height: 1.6;
  }

  /* Links */
  a {
    color: rgb(var(--color-primary-500));
    text-decoration: none;
    transition: color var(--transition-base) ease;
  }

  a:hover {
    color: rgb(var(--color-primary-600));
  }

  a:focus-visible {
    outline: 2px solid rgb(var(--color-primary-500));
    outline-offset: 2px;
    border-radius: var(--radius-sm);
  }

  /* Buttons */
  button {
    font-family: inherit;
    font-size: inherit;
    line-height: inherit;
    cursor: pointer;
  }

  button:disabled {
    cursor: not-allowed;
    /* opacity: 0.5; - Removed: Handled by Button component to avoid double opacity */
  }

  /* Form elements */
  input,
  textarea,
  select {
    font-family: inherit;
    font-size: inherit;
    line-height: inherit;
  }

  input:focus,
  textarea:focus,
  select:focus {
    outline: 2px solid rgb(var(--color-primary-500));
    outline-offset: 2px;
  }

  /* Images */
  img,
  picture,
  video,
  canvas,
  svg {
    display: block;
    max-width: 100%;
    height: auto;
  }

  /* Remove default list styles */
  ul,
  ol {
    list-style: none;
  }

  /* Table */
  table {
    border-collapse: collapse;
    width: 100%;
  }

  /* Ensure elements with hidden attribute are hidden */
  [hidden] {
    display: none !important;
  }

  /* Remove spinner buttons from number inputs */
  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type="number"] {
    -moz-appearance: textfield;
  }
}

/* ===========================================================================
   UTILITY CLASSES
   =========================================================================== */

@layer utilities {
  /* Focus visible (modern focus styles) */
  .focus-visible-ring:focus-visible {
    outline: 2px solid rgb(var(--color-primary-500));
    outline-offset: 2px;
  }

  /* Text gradient */
  .text-gradient {
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    background-image: linear-gradient(to right, var(--tw-gradient-stops));
  }

  /* Glass effect */
  .glass {
    background-color: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.3);
  }

  .glass-dark {
    background-color: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* Shadows with color */
  .shadow-primary {
    box-shadow: 0 0 20px rgba(13, 148, 136, 0.3);
  }

  .shadow-accent {
    box-shadow: 0 0 20px rgba(255, 107, 107, 0.3);
  }

  /* Container constraints */
  .prose-constrained {
    max-width: 65ch; /* Optimal reading width */
  }

  /* Scrollbar styling (modern, minimal) */
  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: rgb(var(--bg-secondary));
    border-radius: var(--radius-full);
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: rgb(var(--border-default));
    border-radius: var(--radius-full);
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: rgb(var(--border-strong));
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-none {
    scrollbar-width: none;
  }

  .scrollbar-none::-webkit-scrollbar {
    display: none;
  }

  /* Shimmer effect for loading */
  .shimmer {
    position: relative;
    overflow: hidden;
  }

  .shimmer::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    transform: translateX(-100%);
    background: linear-gradient(
      90deg,
      rgba(255, 255, 255, 0) 0,
      rgba(255, 255, 255, 0.2) 20%,
      rgba(255, 255, 255, 0.5) 60%,
      rgba(255, 255, 255, 0)
    );
    animation: shimmer 2s infinite;
  }

  @keyframes shimmer {
    100% {
      transform: translateX(100%);
    }
  }

  /* Text truncation */
  .truncate-2-lines {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-3-lines {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* ===========================================================================
   COMPONENT-SPECIFIC STYLES
   =========================================================================== */

@layer components {
  /* Skeleton loading placeholder */
  .skeleton {
    animation: pulse-subtle 2s ease-in-out infinite;
    background-color: rgb(var(--border-default));
    border-radius: var(--radius-md);
  }

  /* Card elevation levels */
  .card-elevated-1 {
    background-color: white;
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-sm);
  }

  .card-elevated-2 {
    background-color: white;
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-md);
  }

  .card-elevated-3 {
    background-color: white;
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-lg);
  }

  /* Interactive card */
  .card-interactive {
    background-color: white;
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-sm);
    transition: all var(--transition-base) ease;
    cursor: pointer;
  }

  .card-interactive:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
  }

  /* Badge base styles */
  .badge {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.75rem;
    border-radius: var(--radius-full);
    font-size: 0.875rem;
    font-weight: 500;
  }
}

/* ===========================================================================
   PRINT STYLES
   =========================================================================== */

@media print {
  *,
  *::before,
  *::after {
    background: transparent !important;
    color: #000 !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }

  a,
  a:visited {
    text-decoration: underline;
  }

  a[href]::after {
    content: " (" attr(href) ")";
  }

  abbr[title]::after {
    content: " (" attr(title) ")";
  }

  /* Don't show links for fragments or javascript */
  a[href^="#"]::after,
  a[href^="javascript:"]::after {
    content: "";
  }

  pre {
    white-space: pre-wrap !important;
  }

  pre,
  blockquote {
    border: 1px solid #999;
    page-break-inside: avoid;
  }

  thead {
    display: table-header-group;
  }

  tr,
  img {
    page-break-inside: avoid;
  }

  p,
  h2,
  h3 {
    orphans: 3;
    widows: 3;
  }

  h2,
  h3 {
    page-break-after: avoid;
  }

  /* Hide elements that shouldn't print */
  .no-print {
    display: none !important;
  }
}

/* ===========================================================================
   ACCESSIBILITY
   =========================================================================== */

/* Skip to content link (for keyboard users) */
.skip-to-content {
  position: absolute;
  left: 0;
  top: 0;
  transform: translateY(-100%);
  background-color: rgb(var(--color-primary-500));
  color: white;
  padding: 0.5rem 1rem;
  border-bottom-right-radius: var(--radius-md);
  transition: transform var(--transition-base) ease;
  z-index: var(--z-toast);
}

.skip-to-content:focus {
  transform: translateY(0);
}

/* Screen reader only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Not screen reader only (when focused) */
.sr-only-focusable:active,
.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  overflow: visible;
  clip: auto;
  white-space: normal;
}
